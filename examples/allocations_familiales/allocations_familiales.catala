@@Début métadonnées@@
/*

déclaration structure Personne :
  donnée prénom contenu texte
  donnée nom contenu texte
  donnée date_de_naissance contenu date

déclaration structure ParentsGardeAlternée :
  donnée parent1 contenu Personne
  donnée parent2 contenu Personne

déclaration énumération PriseEnCharge :
  -- Complète contenu Personne
  -- GardeAlternée contenu ParentsGardeAlternée

# Une structure regroupe des données ensemble
déclaration structure Enfant :
  donnée fin_obligation_scolaire contenu date
  donnée âge contenu entier
  donnée rémuneration_mensuelle contenu montant
  donnée prise_en_charge contenu PriseEnCharge
  condition confié_service_social

déclaration énumération Collectivité :
  -- Guadeloupe
  -- Guyane
  -- Martinique
  -- LaRéunion
  -- SaintBarthélemy
  -- SaintMartin
  -- Métropole
  -- SaintPierreEtMiquelon
  -- Mayotte

déclaration structure Ménage :
  donnée enfants contenu collection Enfant
  donnée parent_en_charge contenu Personne dépend de Enfant
  donnée enfant_plus_âgé contenu Enfant optionnel
  donnée parents contenu collection Personne
  donnée parent1 contenu Personne
  donnée parent2 contenu Personne optionnel
  donnée résidence contenu Collectivité
  # Le mot optionnel permet de prévoir le cas où le
  # ménage n'a pas d'enfants

déclaration champ d'application MénageBienFormé :
  contexte ménage contenu Ménage

champ d'application MénageBienFormé :
  assertion nombre de parents > 0 et nombre de parents <= 2

  # Les champs parent1 et parent2 sont cohérents
  assertion ménage.parent1 dans ménage.parents
  assertion (
    selon ménage.parent2 sous forme
    -- Présent de parent2 :
      parent2 dans ménage.parents et parent2 != ménage.parent1
    -- Absent : vrai
  )

  # Dans la traduction informatique, le ménage est en charge de chacun
  # des enfants
  assertion (pour tout enfant dans enfants on a
    selon enfant.prise_en_charge sous forme
    -- Complète de parent : parent dans ménage.parents
    -- GardeAlternée de parents_garde_alternée :
      parents_garde_alternée.parent1 dans ménage.parents ou
      parents_garde_alternée.parent2 dans ménage.parents
  )

  # parent_en_charge permet de savoir quel parent du ménage
  # est en charge de quel enfant
  définition parent_en_charge de enfant égal à (
    selon enfant.prise_en_charge sous forme
    -- Complète de parent : parent
    -- GardeAlternée de parents_garde_alternée : (
      si parents_garde_alternée.parent1 dans ménage.parents
      alors parents_garde_alternée.parent1
      sinon parents_garde_alternée.parent2
  ))

  # Lorsqu'un enfant est confié au service social, il ne peut être
  # en garde alternée
  assertion pour tout enfant dans enfants on a
    si enfant.confié_service_social
    alors enfant.prise_en_charge = Complète contenu service_social
    sinon vrai

déclaration énumération Prestation:
  -- PrestationAccueilJeuneEnfant
  -- AllocationFamiliale
  -- ComplémentFamilial
  -- AllocationLogement
  -- AllocationÉducationEnfantHandicapé
  -- AllocationSoutienFamilial
  -- AllocationRentréeScolaire
  -- AllocationJournalièrePresenceParentale

déclaration structure PrestationsFamiliales :
  condition conditions_hors_âge dépend de Enfant
  condition droits_ouverts dépend de Enfant
  donnée base_mensuelle contenu montant
  donnée base_mensuelle_dom contenu montant

déclaration énumération ChargeAllocation :
  -- Complète
  -- Partagée

déclaration structure AllocationsFamiliales :
  condition droits_ouverts
  donnée date_ouverture_droits contenu date
  condition conditions_hors_âge dépend de Enfant
  donnée base contenu montant
  donnée avec_garde_alternée contenu montant
  donnée montant_versé contenu montant
  donnée récipiendaire_par_enfant contenu Personne dépend de Enfant
  donnée charge_par_enfant contenu ChargeAllocation dépend de Enfant
  donnée rapport_enfants_total_moyen contenu décimal
  donnée nombre_total_enfants contenu entier
  donnée nombre_moyen_enfants contenu décimal
  donnée montant_premier_enfant contenu montant
  donnée montant_deuxieme_enfant contenu montant
  donnée montant_troisième_enfant_et_plus contenu montant

déclaration structure AllocationForfaitaire :
  condition droits_ouverts dépend de Enfant
  donnée montant_versé contenu montant

déclaration énumération ChoixParentAllocataire :
  -- UnParent contenu Personne
  -- DeuxParents

déclaration structure AllocationsGardeAlternée :
  donnée choix_allocataire contenu ChoixParentAllocataire optionnel
     dépend de Enfant
  condition unique_allocataire dépend de Enfant
  condition allocataire_double dépend de Enfant
  condition demande_conjointe_partage_charge dépend de Enfant
  condition desaccord_charge dépend de Enfant

déclaration structure MajorationsAllocationsFamiliales :
  condition droits_ouverts dépend de Enfant
  donnée base_par_enfant contenu montant dépend de Enfant
  donnée avec_garde_alternée contenu montant dépend de Enfant
  donnée montant_versé contenu montant

déclaration structure ComplémentDégressif :
  condition droits_ouverts dépend de montant
  donnée dépassement contenu montant dépend de montant
  donnée pour_allocation_forfaitaire contenu montant
  donnée pour_allocations_familiales_et_majorations contenu montant
  donnée montant_versé contenu montant

déclaration structure TitreI:
  condition droits_ouverts_allocations_familiales dépend de Personne

déclaration structure L511_1:
  donnée prestation_courante contenu Prestation

déclaration structure L512_3 :
  donnée âge_limite_alinéa_2 contenu entier
  donnée âge_limite_alinéa_2_alternatif contenu entier
  condition âge_limite_alinéa_2_alternatif_utilisé
  donnée plafond_rémunération_mensuelle_alinéa_2 contenu montant

déclaration structure L521_1 :
  donnée nombre_minimum_enfants contenu montant
  donnée ressources_ménage contenu montant

déclaration structure L521_3 :
  donnée âge_limite_alinéa_1 contenu entier dépend de Enfant
  donnée minimum_alinéa_2 contenu montant

déclaration structure L751_1 :
  condition régime_outre_mer

déclaration structure D521_3 :
  donnée plafond_I contenu montant
  donnée plafond_II contenu montant

déclaration structure SMIC :
  donnée brut_horaire contenu montant dépend de Collectivité

déclaration champ d'application CalculPrestationsFamiliales :
  # Les règles déclarées dans PrestationsFamiliales pourront utiliser
  # ménage et l512_3 et leur données associées
  contexte ménage contenu Ménage
  contexte prestations_familiales contenu PrestationsFamiliales
  contexte l511_1 contenu L511_1
  contexte l512_3 contenu L512_3
inclus champ d'application MénageBienFormé contexte
  PrestationsFamiliales.ménage = MénageBienFormé.ménage

déclaration champ d'application CalculAllocationsFamiliales :
  contexte ménage contenu Ménage
  contexte allocations_familiales contenu AllocationsFamiliales
  contexte allocation_forfaitaire contenu AllocationForfaitaire
  contexte allocations_garde_alternée contenu AllocationsGardeAlternée
  contexte majorations_allocations_familiales
    contenu MajorationsAllocationsFamiliales
  contexte smic contenu SMIC

  contexte titre_I contenu TitreI
  contexte l521_1 contenu L521_1
  contexte l521_3 contenu L521_3
  contexte l751_1 contenu L751_1
  contexte d521_1 contenu D521_1
  contexte d521_3 contenu D521_3
inclus champ d'application CalculPrestationsFamiliales contexte
  AllocationsFamiliales.ménage = PrestationsFamiliales.ménage
  # AllocationsFamiliales est un cas particulier de PrestationsFamiliales,
  # le dernier est donc inclus dans l'autre. Il est nécessaire de préciser
  # que les deux contextes parlent du même ménage pour caractériser
  # l'inclusion.
inclus champ d'application AllocationFamilialesAvril2008

déclaration champ d'application CalculAllocationsFamilialesAvril2008 :
  contexte l521_3 contenu L521_3
*/
@@Fin métadonnées@@

@@Code de la sécurité sociale@@

@@Partie législative@@+

@@Livre 5 : Prestations familiales et prestations assimilées@@++

@@Titre 1 : Champ d'application - Généralités@@+++

@@Chapitre 1er : Liste des prestations@@++++

@Article L511-1@
Les prestations familiales comprennent :
1°) la prestation d'accueil du jeune enfant ;
2°) les allocations familiales ;
3°) le complément familial ;
4°) L'allocation de logement régie par les dispositions du livre VIII du code de la construction et de l'habitation ;
5°) l'allocation d'éducation de l'enfant handicapé ;
6°) l'allocation de soutien familial ;
7°) l'allocation de rentrée scolaire ;
8°) (Abrogé) ;
9°) l'allocation journalière de présence parentale.
/*
# Voir métadonnnée L511_1.prestation_courante
*/

@@Chapitre 2 : Champ d'application@@++++

@Article L512-3@
Sous réserve des règles particulières à chaque prestation, ouvre droit aux prestations familiales :
/*
champ d'application CalculPrestationsFamiliales :
  # On suppose dans le programme  que tous les enfants déclarés dans
  # ménage.enfants ouvrent droit aux allocations familiales
  assertion pour tout enfant dans ménage.enfants on a
    prestations_familiales.droits_ouverts de enfant
*/

1°) tout enfant jusqu'à la fin de l'obligation scolaire ;
/*
champ d'application CalculPrestationsFamiliales :
  règle prestations_familiales.droits_ouverts de enfant sous condition
    (enfant dans ménage.enfants) et
    (date_aujourd_hui <= enfant.fin_obligation_scolaire)
  conséquence rempli
*/

2°) après la fin de l'obligation scolaire, et jusqu'à un âge limite, tout enfant dont la rémunération éventuelle n'excède pas un plafond.
/*
champ d'application CalculPrestationsFamiliales :
  # On définit les conditions hors âge d'abord car elles
  # sont référencées dans l'article L521-1
  règle prestations_familiales.conditions_hors_âge de enfant sous condition
    (enfant dans ménage.enfants) et (
      (date_aujourd_hui <= enfant.fin_obligation_scolaire) ou
      (enfant.rémuneration_mensuelle <
        l512_3.plafond_rémunération_mensuelle_alinéa_2)
    )
  conséquence rempli

  règle prestations_familiales.droits_ouverts de enfant sous condition
    (enfant dans ménage.enfants) et
    (date_aujourd_hui > enfant.fin_obligation_scolaire) et
    (l512_3.conditions_hors_âge de enfant) et
    (enfant.âge < l512_3.âge_limite_alinéa_2)
  conséquence rempli
*/

Toutefois, pour l'attribution du complément familial et de l'allocation de logement mentionnés aux 3° et 4° de l'article L. 511-1, l'âge limite peut être différent de celui mentionné au 2° du présent article.
/*
champ d'application CalculPrestationsFamiliales :
  définition l512_3.âge_limite_alinéa_2 sous condition
    l512_3.âge_limite_alinéa_2_alternatif_utilisé et
    (l511_1.prestation_courante = ComplémentFamilial ou
     l511_1.prestation_courante = AllocationLogement)
  conséquence égal à
    l512_3.âge_limite_alinéa_2_alternatif
*/

@@Titre 2 : Prestations générales d'entretien@@+++

@@Chapitre 1er : Allocations familiales@@++++

@Article L521-1@
Les allocations familiales sont dues à partir du deuxième enfant à charge.
/*
champ d'application CalculAllocationsFamiliales :
  règle allocations_familiales.droits_ouverts sous condition
    nombre de ménage.enfants >= 2
  conséquence rempli

  # Les droits doivent être ouverts pour appliquer le champ
  # CalculAllocationsFamiliales. Si cette condition n'est pas remplie,
  # alors il est inutile de calculer le reste
  assertion allocations_familiales.droits_ouverts
  # Le champ d'application CalculAllocationsFamiliales inclus
  # PrestationsFamiliales, mais à condition que la prestation courante
  # soit cohérente
  définition l511_1.prestation_courante égal à AllocationFamiliale
*/

Une allocation forfaitaire par enfant d'un montant fixé par décret est versée pendant un an à la personne ou au ménage qui assume la charge d'un nombre minimum d'enfants également fixé par décret lorsque l'un ou plusieurs des enfants qui ouvraient droit aux allocations familiales atteignent l'âge limite mentionné au 2° de l'article L. 512-3. Cette allocation est versée à la condition que le ou les enfants répondent aux conditions autres que celles de l'âge pour l'ouverture du droit aux allocations familiales.
/*
champ d'application CalculAllocationsFamiliales :
  assertion allocation_forfaitaire.montant_versé fixé par décret

  # Ici, l'ouverture du droit aux allocations familiales est conditionné
  # au fait d'avoir deux enfants à charges qui répondent aux conditions
  # d'ouverture du droit à une prestation familiale. Pour cette raison,
  # nous nous référrons ici aux conditions_hors_âge de prestations_familiales
  # et non pas de allocations_familiales
  règle allocations_familiales.conditions_hors_âge de enfant sous condition
    prestations_familiales.conditions_hors_âge de enfant
  conséquence  rempli

  règle allocation_forfaitaire.droits_ouverts de enfant sous condition
    (nombre de ménage.enfants >= l512_1.nombre_minimum_enfants) et
    (enfant dans ménage.enfants) et
    (enfant.âge = l512_3.âge_limite_alinéa_2) et
    (allocations_familiales.conditions_hors_âge de enfant)
  conséquence rempli
*/

Le montant des allocations mentionnées aux deux premiers alinéas du présent article, ainsi que celui des majorations mentionnées à l'article L. 521-3 varient en fonction des ressources du ménage ou de la personne qui a la charge des enfants, selon un barème défini par décret.
/*
champ d'application CalculAllocationsFamiliales :
  assertion allocations_familiales.montant_versé fixé par décret
  assertion allocations_familiales.montant_versé varie avec
     l521_1.ressources_ménage
  assertion majorations_allocations_familiales.montant_versé fixé par décret
  assertion majorations_allocations_familiales.montant_versé varie avec
     l521_1.ressources_ménage
*/

Le montant des allocations familiales varie en fonction du nombre d'enfants à charge.
/*
champ d'application CalculAllocationsFamiliales :
  assertion allocations_familiales.montant_versé varie avec
     nombre de ménage.enfants
*/

Les niveaux des plafonds de ressources, qui varient en fonction du nombre d'enfants à charge, sont révisés conformément à l'évolution annuelle de l'indice des prix à la consommation, hors tabac.
/*
# Pour formaliser l'évolution des prix, il faudrait recopier ici
# tous les décrets d'application qui fixent la valeur des plafonds
# de ressources. Si cela reste possible à faire pour notre langage,
# nous avons choisi de ne pas inclure tout ce code dans ce document.
*/

Un complément dégressif est versé lorsque les ressources du bénéficiaire dépassent l'un des plafonds, dans la limite de montants définis par décret. Les modalités de calcul de ces montants et celles du complément dégressif sont définies par décret.
/*
# Ditto, le volume du code à inclure pour formaliser cette assertion
# est assez important et nous avons choisi de ne pas l'inclure dans ce
# document.

champ d'application CalculAllocationsFamiliales :
  assertion complément_dégressif.montant_versé fixé par décret
*/

@Article L521-2@
Les allocations sont versées à la personne qui assume, dans quelques conditions que ce soit, la charge effective et permanente de l'enfant.
/*
champ d'application CalculAllocationsFamiliales :
  définition allocations_familiales.charge_par_enfant de enfant
    sous condition
      (enfant dans ménage.enfants) et
      (enfant.prise_en_charge sous forme Complète)
    conséquence égal à Complète

  définition allocations_familiales.récipiendaire_par_enfant de enfant
    sous condition enfant dans ménage.enfants
    conséquence égal à ménage.parent_en_charge
*/

En cas de résidence alternée de l'enfant au domicile de chacun des parents telle que prévue à l'article 373-2-9 du code civil, mise en oeuvre de manière effective, les parents désignent l'allocataire. Cependant, la charge de l'enfant pour le calcul des allocations familiales est partagée par moitié entre les deux parents soit sur demande conjointe des parents, soit si les parents sont en désaccord sur la désignation de l'allocataire. Un décret en Conseil d'État fixe les conditions d'application du présent alinéa.

/*
champ d'application CalculAllocationsFamiliales :
# Premier cas : garde alternée, parents désignent un unique allocataire
  règle allocations_garde_alternée.unique_allocataire de enfant sous condition
    (enfant dans ménage.enfants) et
    (enfant.prise_en_charge sous forme GardeAlternée) et
    ((allocations_garde_alternée.choix_allocataire de enfant)
      sous forme Présent) et
    ((allocations_garde_alternée.choix_allocataire de enfant) -> Présent
      sous forme UnParent) et
    (((allocations_garde_alternée.choix_allocataire de enfant) -> Présent -> UnParent)
      dans ménage.parents)
  conséquence rempli

  définition allocations_familiales.charge_par_enfant de enfant
    sous condition allocations_garde_alternée.unique_allocataire de enfant
    conséquence égal à Complète

# Deuxième cas : garde alternée, parents partagent la charge pour
# l'allocation
  règle allocations_garde_alternée.allocataire_double de enfant sous condition
    (enfant dans ménage.enfants) et
    (enfant.prise_en_charge sous forme GardeAlternée) et
    (enfant.choix_allocataire_garde_alternée sous forme Présent) et
    (enfant.choix_allocataire_garde_alternée -> Présent sous forme DeuxParents)
  conséquence rempli

  définition allocations_familiales.charge_par_enfant de enfant
    sous condition
      (enfant dans ménage.enfants) et
      (allocations_garde_alternée.allocataire_double de enfant)
    conséquence égal à Partagée

  définition allocations_familiales.charge_par_enfant de enfant sous condition
    (enfant dans ménage.enfants) et
    (enfant.prise_en_charge sous forme GardeAlternée) et
    (allocations_garde_alternée.demande_conjointe_partage_charge de enfant ou
     allocations_garde_alternée.desaccord_charge de enfant)
  conséquence égal à Partagée


# Quelles variables fixées par R521_2 ?
*/

Lorsque la personne qui assume la charge effective et permanente de l'enfant ne remplit pas les conditions prévues au titre I du présent livre pour l'ouverture du droit aux allocations familiales, ce droit s'ouvre du chef du père ou, à défaut, du chef de la mère.
/*
champ d'application CalculAllocationsFamiliales :
  définition allocations_familiales.récipiendaire_par_enfant de enfant
  sous condition
    (enfant dans ménage.enfants) et
    (titre_I.droits_ouverts_allocations_familiales de
      (ménage.parent_en_charge de enfant))
  conséquence égal à ménage.parent1
  # ménage.parent1 est le père ou à défaut la mère
  # (ménage.parent2 est optionnel)
*/

Lorsqu'un enfant est confié au service d'aide sociale à l'enfance, les allocations familiales continuent d'être évaluées en tenant compte à la fois des enfants présents au foyer et du ou des enfants confiés au service de l'aide sociale à l'enfance. La part des allocations familiales dues à la famille pour cet enfant est versée à ce service. Toutefois, le juge peut décider, d'office ou sur saisine du président du conseil général, à la suite d'une mesure prise en application des articles 375-3 et 375-5 du code civil ou des articles 15,16,16 bis et 28 de l'ordonnance n° 45-174 du 2 février 1945 relative à l'enfance délinquante, de maintenir le versement des allocations à la famille, lorsque celle-ci participe à la prise en charge morale ou matérielle de l'enfant ou en vue de faciliter le retour de l'enfant dans son foyer.

/*
champ d'application CalculAllocationsFamiliales :
  définition allocations_familiales.charge_par_enfant de enfant
    sous condition
      (enfant dans ménage.enfants) et
      (enfant.confié_service_social)
    conséquence égal à Complète

  définition allocations_familiales.récipiendaire_par_enfant de enfant
    sous condition
      (enfant dans ménage.enfants) et
      (enfant.confié_service_social)
  conséquence égal à service_social
*/

Un décret en Conseil d'Etat fixe les conditions d'application du présent article, notamment dans les cas énumérés ci-dessous :

a) retrait total de l'autorité parentale des parents ou de l'un d'eux ;

b) indignité des parents ou de l'un d'eux ;

c) divorce, séparation de corps ou de fait des parents ;

d) enfants confiés à un service public, à une institution privée, à un particulier.

/*
# Ce programme ne cherche pas à formaliser les détails pour lesquels un enfant
# est confié à un service social.
*/

@Article L521-3@ Chacun des enfants à charge, à l'exception du plus âgé, ouvre droit à partir d'un âge minimum à une majoration des allocations familiales.
/*
champ d'application CalculAllocationsFamiliales :
  règle majorations_allocations_familiales.droits_ouverts de enfant
  sous condition
    (enfant dans ménage.enfants) et
    (enfant != ménage.enfant_plus_âgé) et
    (enfant.âge >= l521_3.âge_limite_alinéa_1 de enfant)
  conséquence rempli
*/

Toutefois, les personnes ayant un nombre déterminé d'enfants à charge bénéficient de ladite majoration pour chaque enfant à charge à partir de l'âge mentionné au premier alinéa.
/*
champ d'application CalculAllocationsFamiliales :
  règle majorations_allocations_familiales.droits_ouverts de enfant
  sous condition
    (enfant dans ménage.enfants) et
    (nombre de ménage.enfants >= l521_3.minimum_alinéa_2) et
    (enfant.âge >= l521_3.âge_limite_alinéa_1 de enfant)
  conséquence rempli
*/

@@Titre 5 : Dispositions communes@@+++

@@Chapitre 1er : Etablissement du salaire de base@@++++

@Article L.551-1@
Le montant des prestations familiales est déterminé d'après des bases mensuelles de calcul revalorisées au 1er avril de chaque année par application du coefficient mentionné à l'article L. 161-25.
/*
# Idem que L521-1, on ne formalise pas ici l'évolution de la BMPA
champ d'application PrestationsFamiliales :
  assertion prestations_familiales.base_mensuelle fixé par décret
*/

@@Livre 7 : Régimes divers - Dispositions diverses@@++

@@Titre 5 : Dispositions particulières à la Guadeloupe, à la Guyane, à la
Martinique, à La Réunion, à Saint-Barthélemy et à Saint-Martin@@+++

@@Chapitre 1er : Généralités@@++++

@Article L751-1@
Les dispositions du présent titre s'appliquent en Guadeloupe, en Guyane, en Martinique, à La Réunion, à Saint-Barthélemy et à Saint-Martin à l'ensemble des bénéficiaires de la législation générale de sécurité sociale, y compris les membres des professions agricoles.
/*
champ d'application CalculPrestationsFamiliales :
  règle l751_1.régime_outre_mer sous condition
    (ménage.résidence = Guadeloupe) ou
    (ménage.résidence = Guyane) ou
    (ménage.résidence = Martinique) ou
    (ménage.résidence = LaRéunion) ou
    (ménage.résidence = SaintBarthélemy) ou
    (ménage.résidence = SaintMartin)
  conséquence rempli
*/

@@Chapitre 5 : Prestations familiales et prestations assimilées@@++++

@Article L755-3@
Les dispositions des articles L. 512-1, L. 512-2, L. 512-3, L. 513-1, L. 521-2, L. 552-1, L. 553-1, L. 553-2, L. 553-4 et L. 583-3 sont applicables aux départements mentionnés à l'article L. 751-1.

La base de calcul des prestations familiales est la même que celle qui est fixée en application de l'article L. 551-1.
/*
champ d'application CalculPrestationsFamiliales :
  définition prestations_familiales.base_mensuelle_dom égal à
    prestations_familiales.base_mensuelle
*/

@Article L755-11@
Les conditions d'attribution des allocations familiales et de leurs majorations fixées par les articles L. 521-1 et L. 521-3 sont applicables dans les collectivités mentionnées à l'article L. 751-1.
/*
# Aucun changement dans le code, puisque les articles restent applicables
*/

Toutefois, les dispositions de l'article L. 755-12 restent en vigueur aussi longtemps que le présent chapitre V est applicable.

@Article L755-12@
Les allocations familiales sont dues, pour tout enfant, à la personne qui a effectivement la charge de celui-ci.
/*
champ d'application CalculAllocationsFamiliales :
  règle allocations_familiales.droits_ouverts sous condition
    (l751_1.régime_outre_mer) et
    (nombre de ménage.enfants >= 1)
  conséquence rempli
*/
Toutefois, les quatre derniers alinéas de l'article L. 521-1 ne sont pas applicables lorsque le ménage ou la personne a un seul enfant à charge.
/*
# Ceci concerne l'ouverture du droit à l'allocation forfaitaire
# et au complément dégressif.

champ d'application CalculAllocationsFamiliales :
  règle allocation_forfaitaire.droits_ouverts de enfant sous condition
     (l751_1.régime_outre_mer) et
     (nombre de ménage.enfants = 1)
  conséquence non rempli

  règle
    complément_dégressif.droits_ouvert de allocation
  sous condition
    (l751_1.régime_outre_mer) et
    (nombre de ménage.enfants = 1)
  conséquence non rempli
*/

@@Partie réglementaire - Décrets en Conseil d'Etat@@+

@@Livre 5 : Prestations familiales et prestations assimilées@@++

@@Titre 1 : Champ d'application - Généralités@@+++

@@Chapitre 2 : Champ d'application.@@++++

@Article R512-2@
Les enfants ouvrent droit aux prestations familiales jusqu'à l'âge de vingt ans sous réserve que leur rémunération n'excède pas le plafond fixé au deuxième alinéa du présent article.
/*
champ d'application CalculAllocationsFamiliales :
  définition l512_3.âge_limite_alinéa_2 égal à 20 an
*/

Le plafond de rémunération mentionné au 2° de l'article L. 512-3 est égal, pour un mois, à 55 % du salaire minimum interprofessionnel de croissance défini aux articles L. 141-1 à L. 141-9 du code du travail, multiplié par 169.

/*
champ d'application CalculAllocationsFamiliales :
  définition l512_3.plafond_rémunération_mensuelle_alinéa_2 égal à
    55 % * smic.brut_horaire de ménage.résidence * 169
*/

Pour ceux des enfants qui bénéficient d'avantages en nature, l'évaluation de ces avantages devra être faite suivant les barèmes fixés pour l'application de la législation sur les assurances sociales.

/*
# Le programme ne tient pas en compte des avantages en nature
*/

@@Titre 2 : Prestations générales d'entretien@@+++

@@Chapitre 1er : Allocations familiales@@++++

@Article R521-1@ L'âge mentionné au premier alinéa de l'article L. 521-3 à partir duquel les enfants ouvrent droit à la majoration des allocations familiales est fixé à 14 ans.
/*
champ d'application CalculAllocationsFamiliales :
  définition l521_3.âge_limite_alinéa_1 de enfant égal à 14 an
*/

Le nombre minimum d'enfants à charge, mentionné au deuxième alinéa de l'article L. 521-3 ouvrant droit à ladite majoration pour chaque enfant est fixé à trois.
/*
champ d'application CalculAllocationsFamiliales :
  définition l521_3.minimum_alinéa_2 égal à 3
*/

NOTA : Décret n° 2008-409 du 28 avril 2008 JORF du 29 avril 2008 art. 2 : Les modifications induites par le décret n° 2008-409 s'appliquent aux enfants dont le onzième anniversaire est postérieur au 30 avril 2008.
/*
# Notons ici un champ d'application différent, correspondant à une ancienne
# version du corpus législatif dont un morceau s'applique encore. Nous avons
# choisi de montrer ce vieux champ d'application ici plutôt qu'à côté du texte
# du décret de 2008 pour des raisons de place seulement.
champ d'application CalculAllocationFamilialesAvril2008:
# Âge limite avant décret n° 2008-409 du 28 avril 2008
  définition l521_3.minimum_alinéa_2 de enfant égal à 16 an

champ d'application CalculAllocationsFamiliales :
  définition l521_3.minimum_alinéa_2 de enfant
  sous condition (enfant.date_naissance + 11 an <= |30/04/2008|)
  conséquence égal à
    CalculAllocationFamilialesAvril2008.l521_3.minimum_alinéa_2 de enfant
*/
@Article R521-2@
Dans les situations visées au deuxième alinéa de l'article L. 521-2, l'allocataire est celui des deux parents qu'ils désignent d'un commun accord. A défaut d'accord sur la désignation d'un allocataire unique, chacun des deux parents peut se voir reconnaître la qualité d'allocataire :
1° Lorsque les deux parents en ont fait la demande conjointe ;
2° Lorsque les deux parents n'ont ni désigné un allocataire unique, ni fait une demande conjointe de partage.
/*
# Le fait que l'allocataire dans le cas d'un commun accord soit celui des
# deux parents désigné par l'accord est déjà modélisé dans L512-2.

champ d'application CalculAllocationsFamiliales :
  définition allocations_familiales.charge_par_enfant de enfant sous condition
    (enfant dans ménage.enfants) et
    (enfant.prise_en_charge sous forme GardeAlternée) et
    (
      (allocations_garde_alternée.demande_conjointe_partage_charge) ou
      (
        (non allocations_garde_alternée.demande_conjointe_partage_charge) et
        (enfant.choix_allocataire_garde_alternée sous forme Absent)
      )
    )
  conséquence égal à Partagée
*/

Lorsque les parents ont désigné un allocataire unique ou fait une demande conjointe de partage, ils ne peuvent remettre en cause les modalités ainsi choisies qu'au bout d'un an, sauf modification des modalités de résidence du ou des enfants.
/*
# On ne modélise pas le délai minimal entre changement de situation dans
# ce programme.
*/

@Article R521-3@
Sous réserve de l'article R. 521-4, dans les situations visées aux 1° et 2° de l'article R. 521-2, la prestation due à chacun des parents est égale au montant des allocations familiales dues pour le total des enfants à charge, multiplié par un coefficient résultant du rapport entre le nombre moyen d'enfants et le nombre total d'enfants.

/*
champ d'application CalculAllocationsFamiliales :
  définition allocations_familiales.avec_garde_alternée égal à
    allocations_familiales.base *
    allocations_familiales.rapport_enfants_total_moyen

  définition allocations_familiales.rapport_enfants_total_moyen égal à
    allocations_familiales.nombre_moyen_enfants /
    allocations_familiales.nombre_total_enfants
*/

Le nombre moyen d'enfants, pour chaque foyer, est obtenu en faisant la somme du nombre d'enfants à charge dans les conditions suivantes :
1° Chaque enfant en résidence alternée compte pour 0,5 ;
2° Les autres enfants à charge comptent pour 1.
/*
champ d'application CalculAllocationsFamiliales :
  définition allocations_familiales.nombre_moyen_enfants égal à
    somme pour enfant dans ménage.enfants de (
      selon enfant.prise_en_charge sous forme
      -- Complète : 1
      -- GardeAlternée de parents : 0.5
    )
*/
Le nombre total d'enfants, pour chaque foyer, est obtenu en faisant la somme du ou des enfants en résidence alternée et, le cas échéant, du ou des autres enfants à charge.
/*
champ d'application CalculAllocationsFamiliales :
  définition allocations_familiales.nombre_total_enfants égal à
    nombre de ménage.enfants
*/

@Article R521-4@
Pour l'ouverture du droit à la majoration prévue à l'article L. 521-3, le nombre d'enfants à charge est évalué dans les conditions prévues au premier alinéa de l'article R. 521-3.

/*
# ménage.enfants ne contient que des enfants à charge donc rien à formaliser
# ici
*/

Lorsque le ou les enfants ouvrant droit à ladite majoration sont en résidence alternée, le montant servi au titre de cette majoration est réduit de moitié.

/*
champ d'application CalculAllocationsFamiliales :
  définition
    majorations_allocations_familiales.avec_garde_alternée de enfant
  sous condition enfant dans ménage.enfants
  conséquence égal à (
    selon enfant.prise_en_charge sous forme
    -- Complète : majorations_allocations_familiales.base_par_enfant
    -- GardeAlternée de parents:
      majorations_allocations_familiales.base_par_enfant / 2
  )
*/

@@Livre 7 : Régimes divers - Dispositions diverses@@++

@@Titre 5 : Départements d'outre-mer@@+++

@@Chapitre 5 : Prestations familiales et prestations assimilées@@++++

@Article R755-0-2@
Le plafond de rémunération des enfants à charge mentionnés à l'article L. 512-3 est égal, pour un mois, à 55 % du salaire minimum de croissance en vigueur dans chacun des départements mentionnés à l'article L. 751-1, multiplié par 169.
/*
champ d'application CalculAllocationsFamiliales :
  définition l512_3.plafond_rémunération_mensuelle_alinéa_2
  sous condition l751_1.régime_outre_mer
  conséquence égal à
    55 % * smic.brut_horaire de ménage.résidence * 169
*/

@@Partie réglementaire - Décrets simples@@+

@@Livre 5 : Prestations familiales et prestations assimilées@@++

@@Titre 2 : Prestations générales d'entretien@@+++

@@Chapitre 1er : Allocations familiales@@++++

@Article D521-1@
I.- Pour l'application de l'article L. 521-1, le montant des allocations familiales et de la majoration pour âge prévue à l'article L. 521-3 est défini selon le barème suivant :
/*
# Composantes des allocations familiales
champ d'application CalculAllocationsFamiliales :
  définition allocations_familiales.base sous condition
    allocations_familiales.droits_ouverts
  conséquence égal à
    allocations_familiales.montant_deuxieme_enfant +
    allocations_familiales.montant_troisième_enfant_et_plus
*/
1° Lorsque le ménage ou la personne a disposé d'un montant de ressources inférieur ou égal au plafond défini au I de l'article D. 521-3, les taux servant au calcul des allocations familiales sont fixés, en pourcentage de la base mensuelle prévue à l'article L. 551-1, à :
a) 32 % pour le deuxième enfant à charge ;
/*
champ d'application CalculAllocationsFamiliales :
  définition allocations_familiales.montant_deuxieme_enfant sous condition
    l521_1.ressources_ménage <= d521_3.plafond_I
  conséquence égal à
    si nombre de ménage.enfants >= 2
    alors prestations_familiales.base_mensuelle * 32 %
    sinon 0 €
*/

b) 41 % pour le troisième enfant à charge et chacun des suivants.
/*
champ d'application CalculAllocationsFamiliales :
  définition allocations_familiales.montant_troisième_enfant_et_plus
  sous condition
    l521_1.ressources_ménage <= d521_3.plafond_I
  conséquence égal à
    si nombre de ménage.enfants >= 3
    alors prestations_familiales.base_mensuelle * 41 % * (
      (nombre de ménage.enfants) - 2
    ) sinon 0 €
*/
La majoration pour âge est fixée à 16 % de la base mensuelle de calcul des prestations familiales ;
/*
champ d'application CalculAllocationsFamiliales :
   définition
     majorations_allocations_familiales.base_par_enfant de enfant
   sous condition
     l521_1.ressources_ménage <= d521_3.plafond_I
   conséquence égal à
     prestations_familiales.base_mensuelle * 16 %
*/
2° Lorsque le ménage ou la personne a disposé d'un montant de ressources supérieur au plafond défini au I de l'article D. 521-3 et inférieur ou égal à celui défini au II du même article, les taux servant au calcul des allocations familiales sont fixés, en pourcentage de la base mensuelle prévue à l'article L. 551-1, à :
a) 16 % pour le deuxième enfant à charge ;
/*
champ d'application CalculAllocationsFamiliales :
  définition allocations_familiales.montant_deuxieme_enfant sous condition
    (l521_1.ressources_ménage > d521_3.plafond_I) et
    (l521_1.ressources_ménage <= d521_3.plafond_II)
  conséquence égal à
    si nombre de ménage.enfants >= 2
    alors prestations_familiales.base_mensuelles * 32 %
    sinon 0 €
*/
b) 20,5 % pour le troisième enfant à charge et chacun des suivants.
/*
champ d'application CalculAllocationsFamiliales :
  définition allocations_familiales.montant_troisième_enfant_et_plus
  sous condition
    (l521_1.ressources_ménage > d521_3.plafond_I) et
    (l521_1.ressources_ménage <= d521_3.plafond_II)
  conséquence égal à
    si nombre de ménage.enfants >= 3
    alors prestations_familiales.base_mensuelle * 20.5 % * (
      (nombre de ménage.enfants) - 2
    ) sinon 0 €
*/
La majoration pour âge est fixée à 8 % de la base mensuelle de calcul des prestations familiales ;
/*
champ d'application CalculAllocationsFamiliales :
   définition
     majorations_allocations_familiales.base_par_enfant de enfant
   sous condition
     (l521_1.ressources_ménage > d521_3.plafond_I) et
     (l521_1.ressources_ménage <= d521_3.plafond_II)
   conséquence égal à
     prestations_familiales.base_mensuelle * 8 %
*/

3° Lorsque le ménage ou la personne a disposé d'un montant de ressources supérieur au plafond défini au II de l'article D. 521-3, les taux servant au calcul des allocations familiales sont fixés, en pourcentage de la base mensuelle prévue à l'article L. 551-1, à :
a) 8 % pour le deuxième enfant à charge ;
/*
champ d'application CalculAllocationsFamiliales :
  définition allocations_familiales.montant_deuxieme_enfant sous condition
    (l521_1.ressources_ménage > d521_3.plafond_II)
  conséquence égal à
    si nombre de ménage.enfants >= 2
    alors prestations_familiales.base_mensuelle * 8 %
    sinon 0 €
*/
b) 10,25 % pour le troisième enfant à charge et chacun des suivants.
/*
champ d'application CalculAllocationsFamiliales :
  définition allocations_familiales.montant_troisième_enfant_et_plus
  sous condition
    (l521_1.ressources_ménage > d521_3.plafond_II)
  conséquence égal à
    si nombre de ménage.enfants >= 3
    alors prestations_familiales.base_mensuelle * 10.25 % * (
      (nombre de ménage.enfants) - 2
    ) sinon 0 €
*/
La majoration pour âge est fixée à 4 % de la base mensuelle de calcul des prestations familiales.
/*
champ d'application CalculAllocationsFamiliales :
   définition
     majorations_allocations_familiales.base_par_enfant de enfant
   sous condition
     (l521_1.ressources_ménage > d521_3.plafond_II)
   conséquence égal à
     prestations_familiales.base_mensuelle * 4 %
*/

II.- En application du sixième alinéa de l'article L. 521-1, le montant mensuel des allocations familiales et, le cas échéant, de la majoration pour âge est majoré d'un complément dégressif, lorsque les ressources annuelles du ménage ou de la personne dépassent l'un des plafonds défini au I ou au II de l'article D. 521-3 d'une somme inférieure à douze fois le montant mensuel des allocations familiales augmenté, le cas échéant, de la ou des majorations pour âge.

Ce complément dégressif est égal, pour chaque mois, au douzième de la différence entre, d'une part, ce plafond de ressources majoré de la somme définie à l'alinéa précédent et, d'autre part, le montant des ressources.
/*
champ d'application CalculAllocationsFamiliales :
  définition complément_dégressif.dépassement de allocation
  sous condition
    (l521_1.ressources_ménage > d521_3.plafond_I) et
    (l521_1.ressources_ménage <= d521_3.plafond_I + 12 * allocation)
  conséquence égal à
    d521_3.plafond_I + 12 * allocation - l521_1.ressources_ménage

  définition complément_dégressif.dépassement de allocation
  sous condition
    (l521_1.ressources_ménage > d521_3.plafond_II) et
    (l521_1.ressources_ménage <= d521_3.plafond_II + 12 * allocation)
  conséquence égal à
      d521_3.plafond_II + 12 * allocation - l521_1.ressources_ménage

  # Dans les autres cas, le dépassement est nul
  définition complément_dégressif.dépassement de allocations égal à 0 €

  règle complément_dégressif.droits_ouverts de allocation
    sous condition complément_dégressif.dépassement de allocation > 0 €
    conséquence rempli

  définition
    complément_dégressif.pour_allocations_familiales_et_majorations
  sous condition complément_dégressif.droits_ouverts de complément_dégressif.base
  conséquence égal à
      (complément_dégressif.dépassement de complément_dégressif.base) / 12

  définition complément_dégressif.base
  égal à
    (si allocations_familiales.droits_ouverts alors
        allocations_familiales.montant_versé
     sinon 0 €) +
    (si majorations_allocations_familiales.droits_ouverts alors
        majorations_allocations_familiales.montant_versé
     sinon 0 €)
*/

@Article D521-2@
I.- Le montant mensuel de l'allocation forfaitaire prévue au deuxième alinéa de l'article L. 521-1 est défini selon le barème suivant :

1° Lorsque le ménage ou la personne a disposé d'un montant de ressources inférieur ou égal au plafond défini au I de l'article D. 521-3, le montant mensuel de l'allocation forfaitaire est fixé à 20,234 % de la base mensuelle de calcul des allocations familiales par enfant ;
/*
champ d'application CalculAllocationsFamiliales :
  définition allocation_forfaitaire.montant_versé sous condition
    l521_1.ressources_ménage <= d521_3.plafond_I
  conséquence égal à
    prestations_familiales.base_mensuelle * 20.234 % *
    nombre pour enfant dans ménage.enfants de
      allocation_forfaitaire.droits_ouverts de enfant
*/

2° Lorsque le ménage ou la personne a disposé d'un montant de ressources supérieur au plafond défini au I de l'article D. 521-3 et inférieur ou égal à celui défini au II du même article, le montant mensuel de l'allocation forfaitaire est fixé à 10,117 % de la base mensuelle de calcul des allocations familiales par enfant ;
/*
champ d'application CalculAllocationsFamiliales :
  définition allocation_forfaitaire.montant_versé sous condition
    (l521_1.ressources_ménage > d521_3.plafond_I) et
    (l521_1.ressources_ménage <= d521_3.plafond_II)
  conséquence égal à
    prestations_familiales.base_mensuelle * 10.117 % *
    nombre pour enfant dans ménage.enfants de
      allocation_forfaitaire.droits_ouvert de enfant
*/

3° Lorsque le ménage ou la personne a disposé d'un montant de ressources supérieur au plafond défini au II de l'article D. 521-3, le montant mensuel de l'allocation forfaitaire est fixé à 5,059 % de la base mensuelle de calcul des allocations familiales par enfant.
/*
champ d'application CalculAllocationsFamiliales :
  définition allocation_forfaitaire.montant_versé sous condition
    l521_1.ressources_ménage > d521_3.plafond_II
  conséquence égal à
    prestations_familiales.base_mensuelle * 5.059 % *
    nombre pour enfant dans ménage.enfants de
      allocation_forfaitaire.droits_ouvert de enfant
*/

II.- En application du sixième alinéa de l'article L. 521-1, le montant mensuel de l'allocation forfaitaire est majoré d'un complément dégressif lorsque les ressources annuelles du ménage ou de la personne dépassent l'un des plafonds défini au I ou au II de l'article D. 521-3 d'une somme inférieure à douze fois le montant mensuel de l'allocation forfaitaire auquel l'enfant ouvre droit.
Ce complément dégressif est égal, pour chaque mois, au douzième de la différence entre, d'une part, ce plafond de ressources majoré de la somme définie à l'alinéa précédent et, d'autre part, le montant des ressources.
/*
champ d'application CalculAllocationsFamiliales :
  définition
    complément_dégressif.pour_allocation_forfaitaire
  sous condition
    allocation_forfaitaire.droits_ouverts et
    complément_dégressif.droits_ouverts de allocation_forfaitaire.droits_ouverts
  conséquence égal à
    (complément_dégressif.dépassement
      de allocation_forfaitaire.montant_versé) / 12
*/

III.- Le nombre minimum d'enfants à charge mentionné au deuxième alinéa de l'article L. 521-1 est fixé à trois.
/*
champ d'application CalculAllocationsFamiliales :
  définition l512_1.nombre_minimum_enfants égal à 3
*/

@Article D521-3@

I.- Le plafond prévu au 1° du I des articles D. 521-1 et D. 521-2 est fixé à 55 950 euros. Il est majoré de 5 595 euros par enfant à charge.
/*
champ d'application CalculAllocationsFamiliales :
  définition d521_3.plafond_I égal à 55950 € +
    5595 € * nombre de ménage.enfants
*/

II.- Le plafond prévu au 2° du I des articles D. 521-1 et D. 521-2 est fixé à 78 300 euros. Il est majoré de 5 595 euros par enfant à charge.
/*
champ d'application CalculAllocationsFamiliales :
  définition d521_3.plafond_II égal à 78300 € +
    5595 € * nombre de ménage.enfants
*/

III.- Les montants des plafonds et de leur majoration respective fixés au présent article sont revalorisés au 1er janvier de chaque année, conformément à l'évolution en moyenne annuelle des prix à la consommation hors tabac de l'année civile de référence, par arrêté des ministres chargés de la sécurité sociale, du budget et de l'agriculture.

@@Livre 7 : Régimes divers - Dispositions diverses@@++

@@Titre 5 : Départements d'outre-mer@@+++

@@Chapitre 5 : Prestations familiales et prestations assimilées@@++++

@Article D755-5@
I. - Les taux servant au calcul des allocations familiales et de la majoration prévue à l'article L. 755-11 sont identiques à ceux mentionnés à l'article D. 521-1.

/*
# Pas de changement à déclarer
*/

II. - En application de l'article L. 755-11, 2e alinéa, le taux servant au calcul des allocations familiales servies pour un seul enfant à charge est fixé à 5,88 p. 100 de la base mensuelle prévue à l'article L. 755-3.

/*
# Composantes des allocations familiales
champ d'application CalculAllocationsFamiliales :
  définition allocations_familiales.base sous condition
    l751_1.régime_outre_mer et
    allocations_familiales.droits_ouverts
  conséquence égal à
    si nombre de ménage.enfants = 1 alors
      allocations_familiales.montant_premier_enfant
    sinon (
      allocations_familiales.montant_deuxieme_enfant +
      allocations_familiales.montant_troisième_enfant_et_plus
    )

  définition allocations_familiales.montant_premier_enfant égal à
    prestations_familiales.base_mensuelle_dom * 5.88 %

# Question : le complément dégressif s'applique-t-il ici ? Car le complément
# est basé sur les plafonds du taux de base qui ne s'appliquent pas ici,
# donc il serait logique que le plafond ne s'applique pas.
*/
La majoration des allocations familiales pour un seul enfant à charge est fixée à 3,69 p. 100 de la base mensuelle prévue à l'article L. 755-3 à partir de onze ans et à 5,67 p. 100 à partir de seize ans.
/*
champ d'application CalculAllocationsFamiliales :
  définition l521_3.âge_limite_alinéa_1 de enfant
  sous condition l751_1.régime_outre_mer
  conséquence égal à 11 an
définition
  majorations_allocations_familiales.base_par_enfant de enfant
sous condition
  l751_1.régime_outre_mer et
  (majorations_allocations_familiales.droits_ouverts de enfant)
conséquence égal à
  prestations_familiales.base_mensuelle_dom *
  (si enfant.âge >= 16 an alors 5.67 % sinon 3.69 %)
*/

@@Instruction  interministérielle  no  DSS/SD2B/2020/33  du  18  février  2020
relative  à  la  revalorisation  au  1er  avril  2020  des  prestations
familiales  servies  en  métropole,  en  Guadeloupe,  en  Guyane, en
Martinique, à La Réunion, à Saint-Barthélemy, à Saint-Martin et dans
le département de Mayotte@@

Au  titre  de  l’année  2020,  l’article  81  de  la  loi  du  24  décembre  2019  de  fnancement  de  la  sécurité  sociale  a  prévu,  par  dérogation  aux  dispositions  de  l’article  L.  161-25,  une  revalorisation  de  0,3  %  du montant des prestations relevant de cet article.

Le montant précité de la base mensuelle de calcul des allocations familiales (BMAF), en pourcentage duquel sont fxés les montants des prestations familiales, est ainsi porté de 413,16 € à 414,4 € au 1er avril 2020.

/*
champ d'application CalculAllocationsFamiliales :
  définition prestations_familiales.base_mensuelle
  sous condition
    date_aujourd_hui >= |01/04/2020| et
    date_aujourd_hui < |01/04/2021|
  conséquence égal à 414.4 €
*/

Des  règles  spécifques  s’appliquent  par  ailleurs  aux  prestations  familiales  suivantes  en  métropole  tout  comme  dans  les  collectivités  de  Guadeloupe,  Guyane,  Martinique,  La  Réunion,  Saint-Barthélemy et à Saint-Martin : l’article 37 de la LFSS pour 2018 a prévu une mesure d’harmonisation du barème de l’allocation de  base  (AB),  de  la  prime  à  la  naissance  et  de  la  prime  à  l’adoption  sur  celui  du  complément  familial. Cette réforme est applicable aux enfants nés ou adoptés à compter du 1er avril 2018 et en conséquence à l’ensemble des enfants à compter du 1er avril 2021.

En  revanche,  elle  ne  s’applique  pas  aux  familles  au  titre  des  enfants  à  leur  charge  nés  ou  adoptés  jusqu’au  31  mars  2018.  Au  titre  de  ces  enfants,  les  montants  de  l’AB  (à  taux  plein  et  à  taux  partiel),  de  la  prime  à  la  naissance  et  de  la  prime  à  l’adoption  sont  maintenus  à  leur  niveau  en  vigueur  au  1er  avril  2013,  conformément  aux  dispositions  de  l’article  74  de  la  loi  de  fnancement  de  la  sécurité  sociale  pour  2014.  Ces  familles  se  voient  toutefois  appliquer  les  nouvelles  dispositions  au  titre  d’une  nouvelle  naissance  ou  adoption  intervenant  à  compter  du 1er avril 2018 ;–le  montant  du  sixième  complément  de  l’allocation  d’éducation  de  l’enfant  handicapé  (AEEH),  revalorisé  de  la  même  manière  que  les  pensions  mentionnées  à  l’article  L.  341-6  du  code  de  la  sécurité  sociale,  fait  l’objet  d’une  revalorisation  de  0,3  %  au  1er  avril  2020  qui  le  porte  de  1 121,92 € par mois au 1er avril 2019 à 1 125,29 € par mois au 1er avril 2020.

D’autre  part,  dans  les  collectivités  de  Guadeloupe,  Guyane,  Martinique,  La  Réunion,  Saint-Barthélemy  et  Saint-Martin,  conformément  à  l’article  25  de  la  loi  du  28  février  2017  de  programmation  relative  à  l’égalité  réelle  outre-mer  et  portant  autres  dispositions  en  matière  sociale  et  économique, les montants respectifs du complément familial et de son montant majoré sont alignés sur ceux de la métropole à compter du 1er avril 2020.

Enfn, le montant des allocations familiales pour les familles de deux enfants et plus connaît dans le département de Mayotte une dernière majoration exceptionnelle au 1er janvier 2021 liée à la mise en œuvre du plan de convergence qui s’achèvera à cette date.

Les  tableaux  annexés  ont  pour  objet  d’indiquer  aux  organismes  débiteurs  des  prestations  familiales le montant des prestations familiales (avant le précompte de la contribution au remboursement  de  la  dette  sociale)  applicable  pour  procéder  à  la  liquidation  des  prestations  familiales  à  compter du 1er avril 2020 en métropole, en Guadeloupe, en Guyane, en Martinique, à La Réunion, à Saint-Barthélemy et à Saint-Martin. Ces montants sont arrondis au centième d’euro le plus proche ; il en est de même lorsqu’il s’agit du service d’une allocation différentielle.

Ils  indiquent  les  montants  relatifs  aux  allocations  familiales,  à  l’allocation  de  rentrée  scolaire,  à  l’AEEH  (allocation  de  base,  complément  et  majoration  pour  parent  isolé),  au  complément  familial  et  à  son  montant  majoré  sur  la  période  du  1er  avril  2020  au  31  mars  2021  dans  le  département  de  Mayotte.

Je  vous  demande  de  bien  vouloir  transmettre  à  la  connaissance  des  organismes  débiteurs  les  présentes instructions.

@@Inclusion: sources/ste_20200002_0000_p000.pdf@ p. 254@@

/*
# L'annexe ne définit rien de plus que ce qui a déjà été défini dans les décrets
# pour la métropole et les DOM
*/

@@Inclusion: sources/ste_20200002_0000_p000.pdf@ p. 257@@
@@Inclusion: sources/ste_20200002_0000_p000.pdf@ p. 258@@

/*
# Cependant, le cas de Mayotte n'est pas traité dans la loi et ce sont donc
# les règles de cette annexe qui s'apppliquent.
champ d'application CalculAllocationsFamiliales :
  définition allocations_familiales.base sous condition
    ménage.résidence = Mayotte et
    allocations_familiales.droits_ouverts
  conséquence égal à
    si nombre de ménage.enfants = 1 alors
      allocations_familiales.montant_premier_enfant
    sinon (
      allocations_familiales.montant_deuxieme_enfant +
      allocations_familiales.montant_troisième_enfant_et_plus
    )

  définition allocations_familiales.montant_deuxieme_enfant sous condition
    ménage.résidence = Mayotte et
    date_aujourd_hui > |30/04/2020| et
    date_aujourd_hui <= |31/12/2020|
  conséquence égal à
    prestations_familiales.base_mensuelle * 30.68 %

  définition allocations_familiales.montant_troisième_enfant_et_plus sous condition
    ménage.résidence = Mayotte et
    date_aujourd_hui > |30/04/2020| et
    date_aujourd_hui <= |31/12/2020|
  conséquence égal à
    prestations_familiales.base_mensuelle * 14.3 % +
    (si nombre de ménage.enfants >= 4 alors
      prestations_familiales.base_mensuelle * 4.63 % *
        (nombre de ménage.enfants - 3)
      sinon 0 €)

  définition allocations_familiales.montant_deuxieme_enfant sous condition
    ménage.résidence = Mayotte et
    date_aujourd_hui > |01/01/2021| et
    date_aujourd_hui <= |31/03/2021|
  conséquence égal à
    prestations_familiales.base_mensuelle * 32 %

  définition allocations_familiales.montant_troisième_enfant_et_plus sous condition
    ménage.résidence = Mayotte et
    date_aujourd_hui > |01/01/2021| et
    date_aujourd_hui <= |31/03/2021|
  conséquence égal à
    prestations_familiales.base_mensuelle * 16 % +
    (si nombre de ménage.enfants >= 4 alors
      prestations_familiales.base_mensuelle * 4.63 % *
        (nombre de ménage.enfants - 3)
      sinon 0 €)

  définition allocations_familiales.montant_premier_enfant sous condition
    ménage.résident = Mayotte et
    allocations_familiales.date_ouverture_droits < |01/01/2012|
  conséquence égal à
    57.28 €

  définition allocations_familiales.montant_premier_enfant sous condition
    ménage.résident = Mayotte et
    allocations_familiales.date_ouverture_droits >= |01/01/2012| et
    date_aujourd_hui > |30/04/2020| et
    date_aujourd_hui <= |31/12/2020|
  conséquence égal à
    prestations_familiales.base_mensuelle * 7.17 %

  définition allocations_familiales.montant_premier_enfant sous condition
    ménage.résident = Mayotte et
    allocations_familiales.date_ouverture_droits >= |01/01/2012| et
    date_aujourd_hui > |01/01/2021| et
    date_aujourd_hui <= |31/03/2021|
  conséquence égal à
    prestations_familiales.base_mensuelle * 5.88 %
*/


@@Décret n° 2019-1387 du 18 décembre 2019 portant relèvement du salaire minimum de croissance@@

@Article 1@
A compter du 1er janvier 2020, pour les catégories de travailleurs mentionnés à l'article L. 2211-1 du code du travail, le montant du salaire minimum de croissance est relevé dans les conditions ci-après :
1° En métropole, en Guadeloupe, en Guyane, en Martinique, à La Réunion, à Saint-Barthélemy, à Saint-Martin et à Saint-Pierre-et-Miquelon, son montant est porté à 10,15 € l'heure ;
/*
champ d'application CalculAllocationsFamiliales :
  définition smic.brut_horaire sous condition
    (ménage.résidence = Métropole) ou
    (ménage.résidence = Guyane) ou
    (ménage.résidence = Martinique) ou
    (ménage.résidence = LaRéunion) ou
    (ménage.résidence = SaintBarthélemy) ou
    (ménage.résidence = SaintMartin) ou
    (ménage.résidence = SaintPierreEtMiquelon)
  conséquence égal à 10.15 €
*/
2° A Mayotte, son montant est fixé à 7,66 € l'heure.
/*
champ d'application CalculAllocationsFamiliales :
  définition smic.brut_horaire sous condition
    (ménage.résidence = Mayotte)
  conséquence égal à 7.66 €
*/
